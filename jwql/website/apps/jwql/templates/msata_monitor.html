{% extends "base.html" %}

{% block preamble %}

	<title>{{ inst }} MSATA Monitor- JWQL</title>

{% endblock %}

{% block content %}

    <main role="main" class="container">

		<h1>{{ inst }} MSATA Monitor</h1>
        <!--Horizontal line-->
        <hr>
        <!--Include an image located at jwql/website/apps/jwql/static/img/-->
        <div style="text-align: center">
          <img src={{ static('img/jwql_logo_full_transparent.png') }}
               width=20%
               alt="JWQL Logo"
               title="JWQL Logo">
        </div>

        <p id= "description">
          <h2>Updates to this monitor only occur with new data</h2>
          This monitor uses all MSATA data available and the plots include all data.
          The plots will only be updated if new MSATA data is in MAST, otherwise, the
          monitor will show all data previously obtained.
          <h2>Instructions</h2>
          For general MSATA monitoring you only need to look at the first two plots
          below: 1. MSATA Status and 2. MSATA Least Squares Residual V2-V3 Offsets.
          Plot 1 shows the successful Visit IDs (blue points, which always correspond
          to the second position - 1/2 shutter moved from the first), the unsuccessful
          ones (red points), and the in-progress images (gray points, which always
          correspond to the first position of the TA). MSATA can do up-to two tries
          so you may see 4 entries for the same program ID in the gray points.
          Plot 2 shows the V2-V3 least square residual offsets, the closer to the
          purple cross (the half facet coordinates) the better. The default limits of
          the plot are the acceptable values, if you see any point at the edges or
          outside the limits of (-0.5, 0.5) for both axis, please let any of the
          NIRSpec TA experts: Tracy Beck, Charles Proffit, and/or Tony Keyes.
          <br>
          <br>

        </p>

        <!-- Loading animation -->
        <div id="loading">
            <div class="lds-css ng-scope">
                <div style="width:100%;height:100%" class="lds-magnify">
                    <div>
                        <div>
                            <div>
                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                </div>
                Searching MAST ...
            </div>
        </div>

        <!-- Display the data -->
        <div id='ta_data'></div>
        <script>update_msata_page('{{base_url}}');</script>
        <a id="msata_fail" style='display: none'>No MSATA data found</a>

	</main>

{% endblock %}
